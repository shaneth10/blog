# ES?现在与未来

## 1.1 版本
## 1.2 transpiling

# 语法

## 2.1 块作用域声明

JavaScript 中变量作用域的基本单元一直是 function。如果需要创建一个块作用域，最普遍的方法除了普通的函数声明之外，就是立即调用函数表达式。举例来说：
```
var a = 2;

(function IIFE() {
  var a = 3;
  console.log( a ) // 3
})()

console.log( a ) // 2
```
### 2.1.1 let 声明
但现在，我们可以创建绑定到任意块的声明，起被称为块作用域。  
在 let 声明/初始化之前访问 let 声明的变量会导致错误，而使用 var 的话这个顺序是无关紧要的：
```
{
  console.log(a) // undefined
  console.log(b) // ReferenceError

  var a
  let b
}
```

** let + for **
我建议使用 let 声明块的显示形式，唯一的例外是 let 出现在 for 循环头部的情况。原因可能有点微妙，但是我认为这是 ES6 的重要特性之一。for 循环头部的 let i 不只为 for 循环本身声明了一个 i，而是为循环的每一次迭代都重新声明了一个新的 i。这意味着 loop 迭代内部创建的闭包封闭的是每次迭代中的变量。

### 2.1.2 const 声明
还有一个块作用域声明形式需要了解：const，用于创建常量。这个变量的值在声明时设定之后就不允许改变。const 声明必须要有显示的初始化。如果需要一个值为 undefined 的常量，就要声明 ```const a = undefined```。   
常量不是对这个值本身的限制，而是对赋值的那个变量的限制。换句话说，这个值并没有因为 const 被锁定或者不可变，只是赋值本身不可变。如果这个值是复杂值，比如对象或者数组，其内容仍然是可以修改的。
```
{
  const a = [1,2,3]
  a.push(4)
  console.log(a)

  a = 42
}
```

### 2.1.3 块作用于函数